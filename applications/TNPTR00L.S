; Do not change filenames or add or remove FILEI/FILEO statements using an editor. Use Cube/Application Manager.
RUN PGM=PUBLIC TRANSPORT PRNFILE="{SCENARIO_DIR}\output\TNPTR00A.PRN" MSG='generate auto connectors'
FILEI NETI = "{SCENARIO_DIR}\output\TNNET00A.NET"
FILEI LOOKUPI[1] = "{CATALOG_DIR}\parameters\TRN_COEFFICIENTS.DBF"
FILEI SYSTEMI = "{CATALOG_DIR}\parameters\SYSTEM.PTS"
FILEI LINEI[1] = "{SCENARIO_DIR}\input\TROUTE_{year}{alt}.LIN"
FILEO NTLEGO = "{SCENARIO_DIR}\output\TNPTR00A.NTL",
XN=N
FILEO REPORTO = "{SCENARIO_DIR}\output\TNPTR00B.PRN"
FILEO NETO = "{SCENARIO_DIR}\output\TNPTR00A.NET"
FILEI FACTORI[1] = "{SCENARIO_DIR}\output\WalkBus.FAC"

; OVERALL PARAMETERS OF RUN
PARAMETERS USERCLASSES=1,FARE=N, MAPSCALE=5280, HDWAYPERIOD=2,
           NOROUTEERRS=999999, NOROUTEMSGS=999999, 
           TRANTIME=LW.TRANTIME,
           TRANTIME[21]=LI.M21TIMEOP,
           TRANTIME[22]=LI.M22TIMEOP,
           TRANTIME[23]=LI.M23TIMEOP,
           TRANTIME[27]=LI.M27TIMEOP


;REPORT LINES=T

PROCESS PHASE=LINKREAD
 LW.TRANTIME=LI.M21TIMEOP
 LW.WALKTIME=LI.WALKTIME
 LW.WALKDISTANCE=LI.DISTANCE
 LW.DISTANCE=LI.DISTANCE
ENDPROCESS

;cost=aatfactor*time + ovtfactor*pnrtermtime + ((0.6/valtime)*prkcost/{OCCPNRAccess}/2.0) + ((0.6/valtime)*{hwyopcost}/{OCCPNRAccess}*dist)

PROCESS PHASE=DATAPREP
; generates/reads non-transit legs (Optional - Required for PT Network Development)

 read FILE = "{SCENARIO_DIR}\OUTPUT\TNMAT00B.PRN"

ENDPROCESS


ENDRUN
